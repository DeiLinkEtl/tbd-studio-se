<COMPONENT>

  <HEADER
    PLATEFORM="ALL"
    SERIAL=""
    VERSION="0.1"
    STATUS="ALPHA"
    
    COMPATIBILITY="ALL"
    AUTHOR="Talend"
    RELEASE_DATE="20120318"
    STARTABLE="false"
  >
    <SIGNATURE/>
  </HEADER>

  <FAMILIES>
    <FAMILY>Big Data/HCatalog</FAMILY>
  </FAMILIES>

  <DOCUMENTATION>
    <URL/>
  </DOCUMENTATION>

  <CONNECTORS>
    <CONNECTOR CTYPE="FLOW" MIN_INPUT="1" MAX_INPUT="1" MAX_OUTPUT="1"/>
    <CONNECTOR CTYPE="ITERATE" MAX_OUTPUT="1" MAX_INPUT="0"/>
    <CONNECTOR CTYPE="SUBJOB_OK" MAX_INPUT="1" />
    <CONNECTOR CTYPE="SUBJOB_ERROR" MAX_INPUT="1" />
    <CONNECTOR CTYPE="COMPONENT_OK"/>
    <CONNECTOR CTYPE="COMPONENT_ERROR"/>
    <CONNECTOR CTYPE="RUN_IF"/>
  </CONNECTORS>

	<PARAMETERS>
		<PARAMETER
		  NAME="SCHEMA"
		  FIELD="SCHEMA_TYPE"
		  REQUIRED="true"
		  NUM_ROW="5"
		>
		  <DEFAULT/> 
		</PARAMETER>
	  
		<PARAMETER NAME="HCAT_VERSION" FIELD="CLOSED_LIST" NUM_ROW="10" REQUIRED="true">
			<ITEMS DEFAULT="HDP_1_0">
				<ITEM NAME="HDP_1_0" VALUE="HDP_1_0" />
			</ITEMS>
		</PARAMETER>

		<PARAMETER NAME="FS_DEFAULT_NAME" FIELD="TEXT" REQUIRED="true" NUM_ROW="15" GROUP="HDFS_CONFIGURATION">
		  	<DEFAULT>"hdfs://localhost:9000/"</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="FILENAME" FIELD="FILE" NUM_ROW="16" REQUIRED="true" GROUP="HDFS_CONFIGURATION">
			<DEFAULT>"__COMP_DEFAULT_FILE_DIR__/out.csv"</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="FILE_ACTION" FIELD="CLOSED_LIST" NUM_ROW="17" GROUP="HDFS_CONFIGURATION">
	      	<ITEMS DEFAULT="CREATE">
				<ITEM NAME="CREATE" VALUE="CREATE"/>
				<ITEM NAME="OVERWRITE" VALUE="OVERWRITE"/>
				<ITEM NAME="APPEND" VALUE="APPEND"/>
			</ITEMS>
	    </PARAMETER>
		
		<PARAMETER NAME="TEMPLETON_HOST" FIELD="TEXT" NUM_ROW="20" REQUIRED="true" GROUP="TEMPLETON_CONFIGURATION">
			<DEFAULT>"localhost"</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="TEMPLETON_PORT" FIELD="TEXT" NUM_ROW="20" REQUIRED="true" GROUP="TEMPLETON_CONFIGURATION">
			<DEFAULT>"50111"</DEFAULT>
		</PARAMETER>
		<PARAMETER
		  NAME="DATABASE_NAME"
		  FIELD="TEXT"
		  NUM_ROW="30"
		  REQUIRED="true"
		  GROUP="HCAT_CONFIGURATION"
		>
		  <DEFAULT>"default"</DEFAULT>
		</PARAMETER>
		<PARAMETER
		  NAME="TABLE_NAME"
		  FIELD="TEXT"
		  NUM_ROW="40"
		  REQUIRED="true"
		  GROUP="HCAT_CONFIGURATION"
		>
		  <DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER
		  NAME="PARTITION_NAME"
		  FIELD="TEXT"
		  NUM_ROW="50"
		  REQUIRED="true"
		  GROUP="HCAT_CONFIGURATION"
		>
		  <DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER
		  NAME="USERNAME"
		  FIELD="TEXT"
		  NUM_ROW="60"
		  REQUIRED="true"
		  GROUP="HCAT_CONFIGURATION"
		>
		  <DEFAULT>"hdp"</DEFAULT>
		</PARAMETER>
		<PARAMETER
		  NAME="FILE_LOCATION"
		  FIELD="TEXT"
		  NUM_ROW="70"
		  REQUIRED="true"
		  GROUP="HCAT_CONFIGURATION"
		>
		  <DEFAULT>"__COMP_DEFAULT_FILE_DIR__"</DEFAULT>
		</PARAMETER>
		<PARAMETER
		  NAME="DIE_ON_ERROR"
		  FIELD="CHECK"
		  NUM_ROW="90"
		  REQUIRED="true"
		>
		  <DEFAULT>false</DEFAULT>
		</PARAMETER>

	</PARAMETERS>
   
	<ADVANCED_PARAMETERS>
		<PARAMETER NAME="HADOOP_ADVANCED_PROPERTIES" FIELD="TABLE" REQUIRED="false" NUM_ROW="1" NB_LINES="3">
			<ITEMS>
				<ITEM NAME="PROPERTY" />
				<ITEM NAME="VALUE" />
			</ITEMS>
		</PARAMETER>
		<PARAMETER
		  NAME="ACTIVATE_LOG"
		  FIELD="CHECK"
		  NUM_ROW="10"
		  REQUIRED="true"
		>
		  <DEFAULT>true</DEFAULT>
		</PARAMETER>
		<PARAMETER
		  NAME="STDOUT"
		  FIELD="DIRECTORY"
		  NUM_ROW="15"
		  REQUIRED="true"
		  GROUP="HCAT_CONFIGURATION"
		  SHOW_IF="ACTIVATE_LOG=='true'"
		>
		  <DEFAULT>"__COMP_DEFAULT_FILE_DIR__"</DEFAULT>
		</PARAMETER>
		<PARAMETER
		  NAME="STDERR"
		  FIELD="DIRECTORY"
		  NUM_ROW="16"
		  REQUIRED="true"
		  GROUP="HCAT_CONFIGURATION"
		  SHOW_IF="ACTIVATE_LOG=='true'"
		>
		  <DEFAULT>"__COMP_DEFAULT_FILE_DIR__"</DEFAULT>
		</PARAMETER>		
   	</ADVANCED_PARAMETERS>
	
	<CODEGENERATION>
		<TEMPLATES INPUT="tHDFSOut" OUTPUT="tHCatLoad">
		
		  <TEMPLATE NAME="tHDFSOut" COMPONENT="tHDFSOutput">
			<LINK_TO NAME="tHCatLoad" CTYPE="ROWS_END"/>
		  </TEMPLATE>
		  
          <TEMPLATE NAME="tHCatLoad" COMPONENT="tHCatalogLoad" />
		  
		  <TEMPLATE_PARAM SOURCE="self.FS_DEFAULT_NAME"   TARGET="tHDFSOut.FS_DEFAULT_NAME" />
		  <TEMPLATE_PARAM SOURCE="self.FILENAME"   TARGET="tHDFSOut.FILENAME" />
		  <TEMPLATE_PARAM SOURCE="self.FILE_ACTION"   TARGET="tHDFSOut.FILE_ACTION" />
		  <TEMPLATE_PARAM SOURCE="self.USERNAME"   TARGET="tHDFSOut.USERNAME" />
		  <TEMPLATE_PARAM SOURCE="self.HADOOP_ADVANCED_PROPERTIES"   TARGET="tHDFSOut.HADOOP_ADVANCED_PROPERTIES" />
		  <TEMPLATE_PARAM SOURCE="self.SCHEMA"   TARGET="tHDFSOut.SCHEMA" />
		  
		  <TEMPLATE_PARAM SOURCE="self.HCAT_VERSION"   TARGET="tHCatLoad.HCAT_VERSION" />
		  <TEMPLATE_PARAM SOURCE="self.TEMPLETON_HOST"   TARGET="tHCatLoad.TEMPLETON_HOST" />
		  <TEMPLATE_PARAM SOURCE="self.TEMPLETON_PORT"   TARGET="tHCatLoad.TEMPLETON_PORT" />
		  <TEMPLATE_PARAM SOURCE="self.USERNAME"   TARGET="tHCatLoad.USERNAME" />
		  <TEMPLATE_PARAM SOURCE="self.DATABASE_NAME"   TARGET="tHCatLoad.DATABASE_NAME" />
		  <TEMPLATE_PARAM SOURCE="self.TABLE_NAME"   TARGET="tHCatLoad.TABLE_NAME" />
		  <TEMPLATE_PARAM SOURCE="self.PARTITION_NAME"   TARGET="tHCatLoad.PARTITION_NAME" />
		  <TEMPLATE_PARAM SOURCE="self.FILE_LOCATION"   TARGET="tHCatLoad.FILE_LOCATION" />
		  <TEMPLATE_PARAM SOURCE="self.DIE_ON_ERROR"   TARGET="tHCatLoad.DIE_ON_ERROR" />
		  <TEMPLATE_PARAM SOURCE="self.ACTIVATE_LOG"   TARGET="tHCatLoad.ACTIVATE_LOG" />
		  <TEMPLATE_PARAM SOURCE="self.STDOUT"   TARGET="tHCatLoad.STDOUT" />
		  <TEMPLATE_PARAM SOURCE="self.STDERR"   TARGET="tHCatLoad.STDERR" />
		</TEMPLATES>
		<IMPORTS>
      		<IMPORT NAME="CXF-CORE_2_5_2" MODULE="cxf-2.5.2.jar" REQUIRED="false" REQUIRED_IF="HCAT_VERSION=='HDP_1_0'" />    
			<IMPORT NAME="JSR-API-1_1_1" MODULE="jsr311-api-1.1.1.jar" REQUIRED="false" REQUIRED_IF="HCAT_VERSION=='HDP_1_0'" />    
			<IMPORT NAME="NEETHI_3_0_1" MODULE="neethi-3.0.1.jar" REQUIRED="false" REQUIRED_IF="HCAT_VERSION=='HDP_1_0'" />    
			<IMPORT NAME="WSDL4J-1_6_2" MODULE="wsdl4j-1.6.2.jar" BundleID="org.apache.servicemix.bundles.wsdl4j" REQUIRED="false" REQUIRED_IF="HCAT_VERSION=='HDP_1_0'" />    
			
			<IMPORT NAME="apache-hadoop" MODULE="hadoop-core-1.0.0.jar" REQUIRED="false" REQUIRED_IF="HCAT_VERSION=='HDP_1_0'"/>
			<IMPORT NAME="commons-logging" MODULE="commons-logging-1.1.1.jar" REQUIRED="false" REQUIRED_IF="HCAT_VERSION=='HDP_1_0'"/>
			<IMPORT NAME="commons-configuration" MODULE="commons-configuration-1.6.jar" REQUIRED="false" REQUIRED_IF="HCAT_VERSION=='HDP_1_0'"/>
			<IMPORT NAME="commons-lang" MODULE="commons-lang-2.4.jar" REQUIRED="false" REQUIRED_IF="HCAT_VERSION=='HDP_1_0'"/>
    	</IMPORTS>
	</CODEGENERATION>
   <RETURNS/>
</COMPONENT>
