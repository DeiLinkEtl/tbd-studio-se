<COMPONENT>
  	<HEADER
	    PLATEFORM="ALL"
	    SERIAL=""
	    VERSION="0.102"
	    STATUS="ALPHA"
	    
	    COMPATIBILITY="ALL"
	    AUTHOR="Talend"
	    RELEASE_DATE="20120706A"
	    STARTABLE="true"
  	>
    	<SIGNATURE/>
  	</HEADER>
	<FAMILIES>
		<FAMILY>Databases/MongoDB</FAMILY>
		<FAMILY>Big Data/MongoDB</FAMILY>
	</FAMILIES>
	<DOCUMENTATION>
		<URL />
	</DOCUMENTATION>
	<CONNECTORS>
		<CONNECTOR CTYPE="FLOW" MAX_INPUT="0" MAX_OUTPUT="1"/>
	    <CONNECTOR CTYPE="ITERATE" MAX_OUTPUT="1" MAX_INPUT="1"/>
	    <CONNECTOR CTYPE="SUBJOB_OK" MAX_INPUT="1" />
	    <CONNECTOR CTYPE="SUBJOB_ERROR" MAX_INPUT="1" />
	    <CONNECTOR CTYPE="COMPONENT_OK"/>
	    <CONNECTOR CTYPE="COMPONENT_ERROR"/>
	    <CONNECTOR CTYPE="RUN_IF"/>
	</CONNECTORS>
	
	<PARAMETERS>
		<PARAMETER 
			NAME="USE_EXISTING_CONNECTION" 
			FIELD="CHECK"
			NUM_ROW="1"
			GROUP="CONNECTION"
		>
			<DEFAULT>false</DEFAULT>
		</PARAMETER>
		<PARAMETER 
			NAME="CONNECTION" 
			FIELD="COMPONENT_LIST" 
			FILTER="tMongoDBConnection"
			NUM_ROW="1" 
			SHOW_IF="USE_EXISTING_CONNECTION == 'true'"
			GROUP="CONNECTION"
		/>
        <PARAMETER 
            NAME="DB_VERSION" 
            FIELD="CLOSED_LIST" 
            NUM_ROW="2" 
            SHOW_IF="(USE_EXISTING_CONNECTION == 'false')" 
            GROUP="CONNECTION">
            <ITEMS DEFAULT="MONGO_2_2_3">
                <ITEM NAME="MONGO_2_2_3" VALUE="MONGO_2_2_3"/>
            </ITEMS>
        </PARAMETER>
		<PARAMETER 
			FIELD="CHECK" 
			NAME="USE_REPLICA_SET" 
			NUM_ROW="3" 
			SHOW_IF="(USE_EXISTING_CONNECTION == 'false')"
			GROUP="CONNECTION">
            <DEFAULT>"false"</DEFAULT>
        </PARAMETER>
        <PARAMETER 
	        NAME="REPLICA_SET" 
	        FIELD="TABLE" 
	        REQUIRED="true" 
	        NUM_ROW="4" 
	        NB_LINES="5" 
	        SHOW_IF="(USE_EXISTING_CONNECTION == 'false') AND (USE_REPLICA_SET=='true')"
	        GROUP="CONNECTION">
            <ITEMS>
                <ITEM NAME="REPLICA_HOST" FIELD="TEXT" />
                <ITEM NAME="REPLICA_PORT" FIELD="TEXT" />
            </ITEMS>
        </PARAMETER>
		<PARAMETER 
			FIELD="TEXT" 
			NAME="HOST" 
			NUM_ROW="5" 
			REQUIRED="true" 
			SHOW_IF="(USE_EXISTING_CONNECTION == 'false') AND (USE_REPLICA_SET=='false')"
			GROUP="CONNECTION"
		>
			<DEFAULT>"localhost"</DEFAULT>
		</PARAMETER>
		<PARAMETER 
			FIELD="TEXT" 
			NAME="PORT" 
			NUM_ROW="5"
			SHOW_IF="(USE_EXISTING_CONNECTION == 'false') AND (USE_REPLICA_SET=='false')"
			GROUP="CONNECTION"
		>
			<DEFAULT>27017</DEFAULT>
		</PARAMETER>
		<PARAMETER 
			FIELD="TEXT" 
			NAME="DATABASE" 
			NUM_ROW="10" 
			REQUIRED="true" 
			SHOW_IF="USE_EXISTING_CONNECTION == 'false'"
			GROUP="CONNECTION"
		>
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER 
			NAME="REQUIRED_AUTHENTICATION" 
			FIELD="CHECK"
			NUM_ROW="11"
			SHOW_IF="USE_EXISTING_CONNECTION == 'false'"
			GROUP="AUTHENTICATION"
		>
			<DEFAULT>false</DEFAULT>
		</PARAMETER>
		<PARAMETER 
			FIELD="TEXT" 
			NAME="USERNAME" 
			NUM_ROW="12"
			SHOW_IF="(REQUIRED_AUTHENTICATION == 'true') AND (USE_EXISTING_CONNECTION == 'false')"
			GROUP="AUTHENTICATION"
		>
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER 
			FIELD="TEXT" 
			NAME="PASSWORD" 
			NUM_ROW="12"
			SHOW_IF="(REQUIRED_AUTHENTICATION == 'true') AND (USE_EXISTING_CONNECTION == 'false')"
			GROUP="AUTHENTICATION"
		>
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER 
			FIELD="TEXT" 
			NAME="COLLECTION" 
			REQUIRED="true"
			NUM_ROW="15" 
		>
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER 
			NAME="SCHEMA_FLOW" 
			FIELD="SCHEMA_TYPE" 
			NUM_ROW="16"
		>
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER 
			FIELD="MEMO" 
			NAME="QUERY" 
			REQUIRED="true"
			NUM_ROW="30"
			NB_LINES="5"
		>
			<DEFAULT>"{}"</DEFAULT>
		</PARAMETER>
		<PARAMETER 
			NAME="MAPPING" 
			FIELD="TABLE" 
			REQUIRED="true"
			NUM_ROW="35" 
			NB_LINES="5" >
			<ITEMS BASED_ON_SCHEMA="true">
				<ITEM NAME="PARENT_NODE_PATH" FIELD="TEXT" />
			</ITEMS>
		</PARAMETER>
		<PARAMETER 
			NAME="SORT" 
			FIELD="TABLE" 
			REQUIRED="false"
			NUM_ROW="40" 
			NB_LINES="5"
		>
			<ITEMS>
				<ITEM NAME="COLNAME" FIELD="TEXT" VALUE=""/>
				<ITEM NAME="ORDER" FIELD="CLOSED_LIST">
					<ITEMS DEFAULT="ASC">
						<ITEM NAME="ASC" VALUE="asc" />
						<ITEM NAME="DESC" VALUE="desc" />
					</ITEMS>
				</ITEM>
			</ITEMS>
		</PARAMETER>
		<PARAMETER 
			FIELD="TEXT" 
			NAME="LIMIT" 
			NUM_ROW="45" 
		/>
	</PARAMETERS>
	
	<ADVANCED_PARAMETERS />
	
	<CODEGENERATION>
		<IMPORTS>
			<IMPORT MODULE="mongo-2.8.0.jar" NAME="mongo-2.8.0" REQUIRED="true" />
		</IMPORTS>
	</CODEGENERATION>
	<RETURNS>
		<RETURN AVAILABILITY="AFTER" NAME="NB_LINE" TYPE="id_Integer" />
	</RETURNS>
</COMPONENT>
